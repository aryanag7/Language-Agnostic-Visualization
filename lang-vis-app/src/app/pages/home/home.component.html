<div class="container">
  <div class="form-card">
    <!-- Title & Icon -->
    <div class="title-container">
      <svg class="code-icon" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
        <path d="m18 16 4-4-4-4"></path>
        <path d="m6 8-4 4 4 4"></path>
        <path d="m14.5 4-5 16"></path>
      </svg>
      <h2 class="title">Language Agnostic Visualization</h2>
    </div>

    <!-- Language Selector -->
    <div class="input-group">
      <label>Select Language:</label>
      <app-language-selector (languageSelected)="onLanguageSelected($event)"></app-language-selector>
    </div>

    <!-- Code Editor -->
    <div class="input-group editor-group">
      <label>Enter Code:</label>
      <app-code-editor (codeChanged)="onCodeChanged($event)"></app-code-editor>
    </div>

    <!-- Generate Button -->
    <button class="generate-btn" (click)="onGenerate()">
      <span class="btn-content">ğŸš€ Generate</span>
      <span class="loading-spinner" *ngIf="isLoading"></span>
    </button>
  </div>

  <!-- Loading Message -->
  <div *ngIf="isLoading" class="loading-msg">Generating visualization...</div>

  <!-- Preview Section -->
  <div *ngIf="imageUrl" class="preview">
    <h3>ğŸ“Š Your graph is ready!</h3>

    <!-- For Interactive HTML -->
    <iframe
      *ngIf="isHtml"
      [src]="imageUrl"
      width="100%"
      height="500px"
      frameborder="0">
    </iframe>

    <!-- For Static Images -->
    <img
      *ngIf="!isHtml"
      [src]="imageUrl"
      alt="Generated chart" />
   
    <button class="download-btn download-container" (click)="downloadChart()">â¬‡ï¸ Download</button>
  </div>
</div>
